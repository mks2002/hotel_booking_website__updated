{% extends 'base.html' %} {% load static %} {% block style %}
<style>
  
.explore-travel {
  padding: 1rem 0.4rem;
  margin-bottom: 2.5rem;
}

.explore-travel .card {
  border: none;
  border-right-color: transparent;
  border-radius: 0.9375rem;
  text-align: start;
  height: 78vh;
  width: 30vw;
  position: relative;
  margin: auto;
  transition: 0.2s linear;
  border: 2.5px solid var(--secondary-color);
}

.explore-travel .card:hover {
  box-shadow: 0px 0px 10px 2px gray;
}

.explore-travel .card img {
  border-radius: 0.9375rem 0.9375rem 0 0;
  object-fit: cover;
  height: 48%;
}

.explore-travel .card h4 {
  text-transform: uppercase;
  font-weight: 600;
  margin-bottom: 0%;
  padding: 0%;
}

.explore-travel .card h3 {
  margin-bottom: 0.25rem;
  line-height: 1.875rem;
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--primary-text);
  font-family: var(--secondary-font);
}

.explore-travel .card i {
  color: #edc93b;
  font-size: 1rem;
}

.explore-travel .card span {
  display: block;
  font-size: 1.3rem;
  font-weight: 600;
  color: var(--primary-color);
  padding: 0%;
  padding-bottom: 0.7rem;
  border-bottom: 0.0625rem solid #eee;
}

.explore-travel .card span del {
  color: var(--text-grey);
  margin: 0.2rem;
  text-decoration: line-through;
  font-size: 1.1rem;
  font-weight: 400;
}

.explore-travel .card .cost i {
  background-color: rgb(74, 74, 136);
  color: #fff;
  line-height: 70px;
  width: 70px;
  height: 70px;
  text-align: center;
  border-radius: 50%;
  position: absolute;
  right: 15px;
  bottom: 270px;
  font-size: 1.6rem;
}

.myrow {
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  background-color: #dbd9d9;
  height: 10vh;
  width: 100%;
  border-radius: 15px;
  margin: auto;
  position: relative;
}

.myrow a {
  text-decoration: none;
  font-size: 1.7rem;
  font-weight: 600;
  margin-left: 12px;
  position: relative;
  text-align: center;
  align-items: center;
}

.myrow a::after {
  position: absolute;
  content: "";
  left: 0;
  width: 0;
  height: 3px;
  background: rgb(225, 78, 78);
  transition: 0.3s all ease;
  bottom: 0;
}

.myrow a:hover::after {
  width: 120%;
  left:-12%;
}

.myrow a.active::after {
  width: 120%;
  left:-12%;
}

@media (max-width: 1299px) {
  .myrow {
     height: fit-content !important;
     text-align: center;
  }

  .myrow a {
     font-size: 1.3rem;
  }

  .explore-travel .card {
     height: 65vh;
     width: 95%;
     font-size: small;

  }

  .explore-travel .card img {
     max-height: 36vh;
  }

  .explore-travel .card h3 {
     font-size: 1.25rem;
     line-height: 1.375rem;
  }

  .explore-travel .card h4 {
     font-size: 1.25rem;
     line-height: 1.375rem;
  }

  .explore-travel .card p {
     font-size: 0.85rem;
     margin: 0%;
     line-height: 0.85rem;
  }

  .explore-travel .card .cost i {
     bottom: 210px;
  }
}

@media (max-width: 999px) {
  .explore-travel .card {
     height: 78vh;
     width: 98%;
     font-size: small;
  }

  .explore-travel .card .cost i {
     bottom: 240px;
  }
}

@media (max-width: 899px) {
  .explore-travel .card {
     height: 76vh;
     width: 105%;
     font-size: large;
  }
}


@media (max-width: 767px) {
  .explore-travel .card {
     height: 65vh;
     width: 65%;
     font-size: large;
  }
}

@media (max-width: 699px) {
  .explore-travel .card {
     height: auto;
     width: 80%;
  }

  .explore-travel .card .cost i {
     bottom: 210px;
  }
}



/* this is for giving border radius to the last image of this page.. */
.myimage {
  border: 2.5px solid var(--secondary-color);
  border-radius: 15px;
  margin-right: 40px;
}

{% comment %} from  here we start the css for search bar section.. {% endcomment %}
.height {
  height: 15vh;
}

.search {
  position: relative;
  box-shadow: 0 0 40px rgba(51, 51, 51, .1);
}

.search input {
  height: 60px;
  text-indent: 25px;
  border: 2px solid #d6d4d4;
}



.search input:focus {
  box-shadow: none;
  border: 2px solid blue;

}

.search .fa-search {
  position: absolute;
  top: 20px;
  left: 16px;
}

.search button {
  position: absolute;
  top: 5px;
  right: 5px;
  height: 50px;
  width: 110px;
  background: blue;
}

@media (max-width: 1299px) {
  .search input::placeholder {
     font-size: 10px;
  }
  .search button{
    height: 40px;
    width: 80px;
    top:8px;
  }
}

</style>

{% endblock style %} 

{% block navlogo %}
<a class="navbar-brand" href="{% url 'homeid' id %}">
  <img
    src="{% static './images/logo.png' %}"
    class="img-fluid"
    alt="logo"
  />
</a>

{% endblock navlogo %}

{% block navbar %}
    
<li class="nav-item">
<a
  class="nav-link {% if request.path == '/'|add:id %}active {% endif %}"
  aria-current="page"
  href="{% url 'homeid' id %}"
  >Home</a
>
</li>


<li class="nav-item">
<a
  class="nav-link {% if request.path == '/about/'|add:id %}active {% endif %}"
  href="{% url 'aboutid' id%}"
  >About</a
>
</li>

<li class="nav-item">
<a
  class="nav-link {% if request.path == '/services/'|add:id %}active {% endif %}"
  href="{% url 'serviceid' id %}"
  >Services</a
>
</li>



<li class="nav-item">
<a
  class="nav-link {% if request.path == '/staffs/'|add:id %}active {% endif %}"
  href="{% url 'staffsid' id%}"
  >Staffs</a
>
</li>


<li class="nav-item">
<a
  class="nav-link {% if request.path == '/blogs/'|add:id %}active {% endif %}"
  href="{% url 'blogid' id%}"
  >Blogs</a
>
</li>



<li class="nav-item">
<a
  class="nav-link {% if request.path == '/travel_details/'|add:id %}active {% endif %}"
  href="{% url 'travelid' id%}"
  >Traindetails</a
>
</li>


<li class="nav-item">

 
  <a class="{% if request.path == '/hotellist/all/'|add:id  or request.path == '/hotellist/goa/'|add:id or request.path == '/hotellist/kerala/'|add:id or request.path == '/hotellist/jammu kashmir/'|add:id or request.path == '/hotellist/Rajasthan/'|add:id or request.path == '/hotellist/Himachal pradesh/'|add:id or request.path == '/hotellist/others/'|add:id  %}active{% endif %} nav-link " href="{% url 'hotellist' 'all' id %}">Hotels & resorts</a>
</li>

<li class="nav-item mt-3 mt-lg-0">

<a href="{{url}}" class="main-btn {% if request.path == '/dashboard/'|add:id %}active {% endif %}">Dashboard</a>
</li>

{% endblock navbar %}


{% block content1 %}

<div class="explore-travel">

  <div class="container-fluid">
    <div class="container text-center mt-5">
      <div class="section-title my-2 text-center">
        <h3 class="myuser">Here is the list of our all hotel rooms !</h3>
      </div>

      <h5 class="mb-5">
        Here you can search for your favourate hotel in any state at any city
        and you can book according to your convenience ...
      </h5>
    </div>

    <hr class="container-fluid my-4" />

    <div class="container mb-2 mb-lg-0">
      <div class="row p-2 myrow mb-lg-1 mb-2">
        <div class="col-lg-1">
          <a class="{% if request.path == '/hotellist/all/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'all' id %}">ALL</a>
          </div> 
          <div class="col-lg-1">
            <a class="{% if request.path == '/hotellist/goa/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'goa' id %}">GOA</a>
          </div>

          <div class="col-lg-2">
            <a class="{% if request.path == '/hotellist/kerala/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'kerala' id %}">KERALA</a>
          </div>

          <div class="col-lg-2">
            <a class="{% if request.path == '/hotellist/jammu kashmir/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'jammu kashmir' id %}">KASHMIR</a>
          </div>

          <div class="col-lg-2">
            <a class="{% if request.path == '/hotellist/Rajasthan/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'Rajasthan' id %}">RAJASTHAN</a>
          </div>

          <div class="col-lg-2">
            <a class="{% if request.path == '/hotellist/Himachal pradesh/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'Himachal pradesh' id %}">HIMACHAL</a>
          </div>
          <div class="col-lg-2">
            <a class="{% if request.path == '/hotellist/others/'|add:id %}active{% endif %}" href="{% url 'hotellist' 'others' id %}">OTHERS</a>
          </div>
      </div>
    </div>
 
    <div class="container">

      <div class="row height d-flex justify-content-center align-items-center">

        <div class="col-md-8">

          <div class="search">
            <i class="fa fa-search"></i>
            <input type="text" id="searchTxt" class="form-control" placeholder="Search your favourate hotel by name, city, state or cost/night">
            <button class="btn btn-primary">Search</button>
          </div>
          
        </div>
        
      </div>
  </div>

  <hr class="container-fluid mt-0 mb-5" />





    <div class="row m-0 " id="mylist">
      {% comment %} from here we start the card section ... {% endcomment %}
      {% for d in data %}

      <div class="col-lg-4 col-md-4 mb-lg-5 mb-4">
        <div class="card pb-2 noteCard">
          <img src="/media/{{d.image}}" class="img-fluid" alt="" />
          <div class="pt-3 p-2">
            <h3>
              {{d.name }},<br />
              {{d.city}},
            </h3>
            <h4>{{d.state}}.</h4>
            <p>
              world class hotel with best services and also a large swiming pool
              and function hall..
            </p>
            <div class="star my-0">{{d.star}}*<i class="fas fa-star"></i></div>
            <span
              >Rs.{{d.current_cost}}<del>Rs{{d.delete_cost}}</del> /night</span
            >
            <a
              href="/bookings/{{id}}/?hname={{d.name}}&hcity={{d.city}}&hstate={{d.state}}&hcost={{d.current_cost}}"
              class="main-btn mt-2"
              >Book now</a
            >
          </div>
          
          <div class="cost">
            <i class="fas fa-award"></i>
          </div>
        </div>
      </div>
       {% comment %} this empty tag is not work if for frontend search no hotel is available... {% endcomment %}
      {% empty %}
        <h3 class="text-center mx-3">Sorry for that particular state we currently dont have any services...</h3> 
      {% endfor %}


    </div>
    <hr class="container-fluid" />

    <section id="about">
      <div class="container">
        <div class="row flex-lg-row flex-column-reverse mb-0 mt-3">
          <div class="col-lg-6 text-center text-lg-start">
            <h3>
              Welcome to
              <span>
                Our Hotel <br class="d-none d-lg-block" />
                We have
              </span>
              best world class hotels
            </h3>
            <p>
              A good hotel website should allow people to create and confirm
              bookings online. It is not simply a contact form, but rather an
              online reservation system installed on the website. By having a
              proper online reservation system, people can easily check for room
              availability, price rate, and secure the booking with payment..
            </p>
            <p>
              This involves organizing content with customers in mind and making
              sure key information such as rooms and rates, amenities, contact
              details and online bookings are never more than a single click
              away.
            </p>
          </div>

          <div class="col-lg-6 mb-4 mb-lg-0 ps-lg-4 text-center mt-4">
            <img
              src="{% static 'images/bgcover.jpg' %}"
              class="img-fluid myimage"
              alt="About Us"
            />
          </div>
        </div>
      </div>
    </section>
    <hr class="container mt-2" />

    <div class="container text-center pt-3">
      <div class="section-title my-2 text-center">
        <h3 class="myuser">Dear {{un}}</h3>
      </div>
      <h4>
        by clicking on the below given link you can also view your user
        dashboard to see your previous orders..
      </h4>

      <a href="{{url}}" class="main-btn mt-2">Dashboard</a>
    </div>
  </div>
</div>

{% endblock content1 %}


{% block javascript_files %}
    
<script src="{% static 'js/main2.js' %}"></script>


<script>
  let search = document.getElementById('searchTxt');
  search.addEventListener("input", function () {
  
     let inputVal = search.value.toLowerCase();
    
     let noteCards = document.getElementsByClassName('noteCard');
     Array.from(noteCards).forEach(function (element) {
        
        let cost_total = element.getElementsByTagName("span")[0].innerText;
        let cost_main=cost_total.substring(3,9)
        let hotel_name_city = element.getElementsByTagName("h3")[0].innerText.toLowerCase();
        let hotel_state=element.getElementsByTagName("h4")[0].innerText.toLowerCase();
        if (cost_main.includes(inputVal) || hotel_name_city.includes(inputVal) || hotel_state.includes(inputVal)) {
           element.parentElement.style.display = "block";
        }
        else {
           element.parentElement.style.display = "none";
        }
     })
     populate()
  })


 function populate() {
    let elem = document.getElementById('mylist');
    let noteCards = document.getElementsByClassName('noteCard');
    let displayCount = 0;
    
    Array.from(noteCards).forEach(function (element) {
      if (element.parentElement.style.display !== "none") {
        displayCount++;
      }
    });
  
    if (displayCount === 0) {
      elem.innerHTML = '<h3 class="text-center">Sorry no such hotel is available...</h3>';
       elem.style.display = 'block';
    }
    

  }  
 
</script>

{% endblock javascript_files %}


